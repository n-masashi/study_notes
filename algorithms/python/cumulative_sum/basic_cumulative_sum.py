# cumulative_sum/basic_cumulative_sum.py
# --------------------------------------
# 累積和（Prefix Sum）の基本
#
# 配列 a の各位置までの合計を事前に計算しておくことで、
# 任意の区間の和を高速に求めることができます。
#
# 例: 配列 a = [3, 1, 4, 1, 5]
#
# s[i] = a[0] + a[1] + ... + a[i-1]
# s[0] = 0 としておくと、
# s = [0, 3, 4, 8, 9, 14]
#
# 区間 [l, r] の和は s[r+1] - s[l] で計算できる

a = [3, 1, 4, 1, 5]

n = len(a)
s = [0] * (n + 1)  # 長さ n+1 のリストを用意

for i in range(n):
    s[i + 1] = s[i] + a[i]

print("累積和リスト:", s)
# 区間和の例：1番目から3番目までの和 (インデックス0から始まるので a[1],a[2],a[3])
l, r = 1, 3
interval_sum = s[r + 1] - s[l]
print(f"区間 {l} から {r} の和:", interval_sum)
