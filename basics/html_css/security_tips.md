# HTML制作に役立つセキュリティTipsメモ

## 1. `target="_blank"` と `rel="noopener noreferrer"`

- `target="_blank"` はリンクを新しいタブで開く属性だが、開いたタブから元のページの `window.opener` を介して  
  元ページの書き換えや操作をされるリスクがある。  
- これを防ぐためにリンクに必ず `rel="noopener noreferrer"` を付けたほうがいい。  

`<a href="https://example.com" target="_blank" rel="noopener noreferrer">リンク</a>`

---

## 2. クロスサイトスクリプティング（XSS）対策

- ユーザーが入力した内容をそのままHTMLに表示すると、悪意あるスクリプトが実行される可能性がある。  
- サーバー側で入力値をエスケープ（無害化）する処理を行ったほうがいい。  
- また、JavaScriptで安全に文字列を埋め込むときは `textContent` を使うとよい。  

---

## 3. コンテンツセキュリティポリシー（CSP）

- CSPはウェブサイトで実行可能なスクリプトや読み込むリソースを制限するためのヘッダー。  
- これによりXSSやデータ盗難のリスクを減らせる。  
- 可能な限りCSPを設定したほうがいい。  

---

## 4. HTTPSの利用

- 通信の盗聴や改ざんを防ぐため、サイトは必ずHTTPS（TLS）で公開したほうがいい。  
- HTTPSページでHTTPリソースを読み込む「Mixed Content」は避けたほうがいい。  

---

## 5. フォームのセキュリティ（CSRF対策）

- CSRF（クロスサイトリクエストフォージェリ）は、ユーザーが意図しない操作を第三者サイトから強制される攻撃。  
- 対策としてフォームにCSRFトークンを埋め込み、サーバー側でチェックしたほうがいい。  

### CSRFトークンのフォーム埋め込み例

    <form action="/submit" method="POST">
      <!-- サーバー側で生成したユニークなトークンをhiddenで埋め込む -->
      <input type="hidden" name="csrf_token" value="サーバーが発行したトークン文字列">
      
      <!-- ユーザー入力フィールド -->
      <input type="text" name="username">
      <button type="submit">送信</button>
    </form>

- 送信時にこのトークンをサーバーで検証し、一致しない場合は処理を拒否する仕組み。  

---

## 6. その他よくあるHTMLセキュリティ上の注意点

- `<iframe>` を使う場合は `sandbox` 属性で権限制限をかけたほうがいい。  
- 外部スクリプトは信頼できるソースからのみ読み込んだほうがいい。  
- APIキーやパスワードなど、重要な情報はHTMLに含めないようにする。  

---

※メモ用　なにかあれば随時更新・追記予定
