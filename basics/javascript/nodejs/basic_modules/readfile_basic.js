"use strict";

// --- Node.jsのfsモジュールを使ったファイル読み込みの基本 ---
// 非同期でファイルを読み込むときに使う関数 fs.readFile の例です。

// ファイル操作用のfsモジュールを読み込む
const fs = require('fs');

// 読みたいファイルのパスと文字コードを指定し、
// ファイル読み込みが終わったら呼ばれる関数を渡す
fs.readFile('example.txt', 'utf8', (err, data) => {
  // err: ファイル読み込みで問題があればここにエラー情報が入る
  // data: 正常に読み込めた場合はファイルの中身が文字列として入る

  if (err) {
    // もしエラーがあったら、ここで処理（例：ログ出力）して終了
    console.error('ファイル読み込み失敗:', err);
    return; // 以降の処理は行わない
  }

  // 正常に読み込めた場合はファイル内容をコンソールに表示
  console.log('ファイルの中身:', data);
});

/*
fs.readFile のポイントまとめ

1. 非同期関数で、ファイルを読み込み始めてすぐに次の処理に進む。

2. 読み込みが終わるとNode.jsが自動でコールバック関数を呼ぶ。

3. コールバック関数の第1引数 err はエラー情報、
   エラーがなければ null が入る。

4. 第2引数 data は読み込んだファイルの内容（文字列またはバッファ）。

5. 'utf8' など文字コードを指定すると data は文字列になる。

6. エラー処理を必ず書くことで問題発生時に適切に対応できる。
*/
